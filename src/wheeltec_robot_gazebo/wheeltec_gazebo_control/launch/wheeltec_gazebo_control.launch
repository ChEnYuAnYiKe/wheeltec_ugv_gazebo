<launch>
    <!--选择车型-->
    <arg name="car_mode" default="mini_mec"/>
    <!-- load the controllers -->
    <node name="controller_manager" pkg="controller_manager" type="spawner" respawn="false" output="screen" ns="wheeltec" args="$(arg car_mode)_left_front_wheel_velocity_controller  $(arg car_mode)_right_front_wheel_velocity_controller  $(arg car_mode)_left_rear_wheel_velocity_controller  $(arg car_mode)_right_rear_wheel_velocity_controller  $(arg car_mode)_joint_state_controller"/>
    <!--cmd_vel速度计算并赋值controller command-->
    <node pkg="wheeltec_gazebo_function" type="Sub_cmd_vel_$(arg car_mode).py" name="sub_$(arg car_mode)_cmd" output="screen"/>
    <!--订阅话题推出机器人运动状态-->
    <node pkg="wheeltec_gazebo_function" type="real_cmd_vel_$(arg car_mode).py" name="pub_$(arg car_mode)_cmd" output="screen"/>
    <!--load controller yaml-->
    <rosparam file="$(find wheeltec_gazebo_control)/config/wheeltec_control_$(arg car_mode).yaml" command="load"/>
    <!--发布odom话题和tf-->
    <node pkg="wheeltec_gazebo_function" name="gazebo_odometry_node" type="gazebo_odometry.py" output="screen"/>
    <!--开启小车仿真节点-->
    <include file="$(find wheeltec_description)/launch/wheeltec_robot_gazebo.launch">
        <arg name="car_mode" value="$(arg car_mode)"/>
    </include>
    <!--打开rviz-->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find wheeltec_gazebo_function)/rviz_config/$(arg car_mode).rviz"/>
</launch>
